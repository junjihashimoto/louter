$ curl "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse"   -H 'Content-Type: application/json'   -H "x-goog-api-key: $GEMINI_API_KEY"   -X POST   -d '{
    "contents": [
      {
        "parts": [
          {
            "text": "Explain how AI works in a few words"
          }
        ]
      }
    ]
  }'
data: {"candidates": [{"content": {"parts": [{"text": "**It learns patterns from data to make smart decisions.**"}],"role": "model"},"finishReason": "STOP","index": 0}],"usageMetadata": {"promptTokenCount": 8,"candidatesTokenCount": 11,"totalTokenCount": 1122,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 8}],"thoughtsTokenCount": 1103},"modelVersion": "gemini-2.5-flash","responseId": "65E2aavdMaiU1e8P246LmAc"}

[junji.hashimoto@G-PC-01570205 gemini-proxy (main)]
$ curl "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse"   -H 'Content-Type: application/json'   -H "x-goog-api-key: $GEMINI_API_KEY"   -X POST   -d '{
    "contents": [
      {
        "parts": [
          {
            "text": "Write tetris game"
          }
        ]
      }
    ]
  }'
data: {"candidates": [{"content": {"parts": [{"text": "Okay, let's create a Tetris game in Python for the console! We'll use the `curses` library for a full-screen, interactive experience.\n\n**Important Notes Before You Start:**\n\n1.  **`curses"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 49,"totalTokenCount": 2095,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "` is primarily for Unix-like systems (Linux, macOS).** It might not work out-of-the-box on Windows. For Windows, you might need `windows-curses` (`pip install windows-curses`) or consider"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 97,"totalTokenCount": 2143,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " a different approach (like Pygame for GUI, or a simpler `os.system('cls')` + print for a very basic console version).\n2.  **Save this code as a `.py` file** (e.g"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 146,"totalTokenCount": 2192,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "., `tetris.py`).\n3.  **Run it from your terminal:** `python tetris.py`\n\n---\n\n```python\nimport curses\nimport random\nimport time\n\n# --- Game Configuration ---\nBOARD_"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 194,"totalTokenCount": 2240,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "WIDTH = 10\nBOARD_HEIGHT = 20\nINFO_PANEL_WIDTH = 15 # For next piece, score, etc.\nTOTAL_WIDTH = BOARD_WIDTH + INFO_PANEL_WIDTH + 3"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 245,"totalTokenCount": 2291,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " # Board + spacer + info + right border\nTOTAL_HEIGHT = BOARD_HEIGHT + 2 # Top and bottom border\n\n# Define Tetromino shapes and their rotations\n# Each shape is a list of 4 blocks relative to its ("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 294,"totalTokenCount": 2340,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "0,0) origin point.\n# Each piece has a unique character for display.\n# (0,0) is typically the top-left corner of the piece's 4x4 bounding box.\n# For simplicity"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 342,"totalTokenCount": 2388,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ", we'll use 0 for empty and a number (1-7) for pieces.\n\n# [Shape]: [List of Rotations]\n# Each Rotation: [List of (dx, dy) coordinates for blocks]\nT"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 392,"totalTokenCount": 2438,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "ETROMINOES = {\n    'I': [\n        [(0,1), (1,1), (2,1), (3,1)], # ----\n        [(1,0), (1,1),"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 440,"totalTokenCount": 2486,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " (1,2), (1,3)]  # |\n                                      # |\n                                      # |\n                                      # |\n    ],\n    'J': [\n        [(0,0), (0,1), ("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 490,"totalTokenCount": 2536,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "1,1), (2,1)], # J\n        [(1,0), (1,1), (1,2), (0,2)],\n        [(0,1), (1,1), (2,1), ("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 541,"totalTokenCount": 2587,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "2,2)],\n        [(1,0), (2,0), (1,1), (1,2)]\n    ],\n    'L': [\n        [(2,0), (0,1), (1,1"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 592,"totalTokenCount": 2638,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "), (2,1)], # L\n        [(1,0), (1,1), (1,2), (0,0)],\n        [(0,1), (1,1), (2,1), (0"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 641,"totalTokenCount": 2687,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ",2)],\n        [(1,0), (2,2), (1,1), (1,2)]\n    ],\n    'O': [\n        [(0,0), (1,0), (0"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 689,"totalTokenCount": 2735,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ",1), (1,1)]  # Square (no rotation)\n    ],\n    'S': [\n        [(1,0), (2,0), (0,1), (1,1)], # S"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 737,"totalTokenCount": 2783,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n        [(0,0), (0,1), (1,1), (1,2)]\n    ],\n    'T': [\n        [(1,0), (0,1), (1,1), ("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 784,"totalTokenCount": 2830,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "2,1)], # T\n        [(1,0), (1,1), (2,1), (1,2)],\n        [(0,1), (1,1), (2,1), (1,"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 832,"totalTokenCount": 2878,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "2)],\n        [(1,0), (0,1), (1,1), (1,2)]\n    ],\n    'Z': [\n        [(0,0), (1,0), (1,1"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 881,"totalTokenCount": 2927,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "), (2,1)], # Z\n        [(2,0), (1,1), (2,1), (1,2)]\n    ]\n}\n\n# Map piece names to numeric IDs for board representation\nPI"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 929,"totalTokenCount": 2975,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "ECE_IDS = {name: i + 1 for i, name in enumerate(TETROMINOES.keys())}\nID_TO_NAME = {v: k for k, v in PIECE_IDS."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 977,"totalTokenCount": 3023,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "items()}\n\n# Colors (curses uses pairs for foreground/background)\n# We'll assign a color pair to each piece ID.\n# Initialize pair 1-7 for pieces, pair 8 for border, pair 9"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1025,"totalTokenCount": 3071,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " for text.\nCOLOR_MAP = {\n    1: curses.COLOR_CYAN,    # I\n    2: curses.COLOR_BLUE,    # J\n    3: curses.COLOR_WHITE,   # L"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1074,"totalTokenCount": 3120,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " (changed from ORANGE, which isn't standard curses)\n    4: curses.COLOR_YELLOW,  # O\n    5: curses.COLOR_GREEN,   # S\n    6: curses.COLOR_MAG"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1122,"totalTokenCount": 3168,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "ENTA, # T\n    7: curses.COLOR_RED      # Z\n}\n\n# --- Game State Variables ---\nboard = []\ncurrent_piece = None\nnext_piece = None\nscore = 0\nlevel = 1"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1173,"totalTokenCount": 3219,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\nlines_cleared = 0\ngame_over = False\nfall_delay_ms = 1000 # Milliseconds between automatic drops (starts at 1 sec)\n\n# --- Helper Functions ---\n\ndef create_piece"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1222,"totalTokenCount": 3268,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "(piece_name=None):\n    \"\"\"Creates a new piece object with random type and initial position.\"\"\"\n    if piece_name is None:\n        piece_name = random.choice(list(TETROMINOES."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1271,"totalTokenCount": 3317,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "keys()))\n    \n    return {\n        'name': piece_name,\n        'id': PIECE_IDS[piece_name],\n        'rotation': 0,\n        'x': BOARD_WIDTH // 2 -"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1322,"totalTokenCount": 3368,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " 2, # Center the piece (adjusting for 4-wide blocks)\n        'y': 0\n    }\n\ndef get_piece_blocks(piece):\n    \"\"\"Returns the absolute coordinates of the blocks for a given piece"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1372,"totalTokenCount": 3418,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "'s state.\"\"\"\n    shape = TETROMINOES[piece['name']][piece['rotation']]\n    return [(piece['x'] + dx, piece['y'] + dy) for dx, dy in shape]\n\ndef"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1421,"totalTokenCount": 3467,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " check_collision(piece, dx=0, dy=0, new_rotation=None):\n    \"\"\"Checks if a piece at a proposed new position/rotation collides with board boundaries or other blocks.\"\"\"\n    temp_piece = piece"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1471,"totalTokenCount": 3517,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ".copy()\n    temp_piece['x'] += dx\n    temp_piece['y'] += dy\n    \n    if new_rotation is not None:\n        temp_piece['rotation'] = new_rotation\n\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1518,"totalTokenCount": 3564,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "    blocks = get_piece_blocks(temp_piece)\n\n    for x, y in blocks:\n        # Check horizontal boundaries\n        if x \u003c 0 or x \u003e= BOARD_WIDTH:\n            return True\n        "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1563,"totalTokenCount": 3609,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "# Check vertical boundaries (only board bottom, not top for spawning)\n        if y \u003e= BOARD_HEIGHT:\n            return True\n        # Check collision with existing blocks on the board (only if y is valid)\n        if y \u003e= "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1613,"totalTokenCount": 3659,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "0 and board[y][x] != 0:\n            return True\n            \n    return False\n\ndef lock_piece(piece):\n    \"\"\"Locks the current piece onto the board.\"\"\"\n    global game_over\n\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1660,"totalTokenCount": 3706,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "    blocks = get_piece_blocks(piece)\n    for x, y in blocks:\n        if y \u003c 0: # If piece locks above the visible board, it's game over\n            game_over ="}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1707,"totalTokenCount": 3753,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " True\n            return\n        board[y][x] = piece['id']\n\ndef clear_lines():\n    \"\"\"Checks for and clears full lines, returns number of lines cleared.\"\"\"\n    global score, level, lines_cleared\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1757,"totalTokenCount": 3803,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "    \n    lines_to_clear = []\n    for y in range(BOARD_HEIGHT):\n        if all(cell != 0 for cell in board[y]):\n            lines_to_clear.append(y)\n            "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1803,"totalTokenCount": 3849,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n    if lines_to_clear:\n        # Score calculation (Tetris style)\n        num_cleared = len(lines_to_clear)\n        if num_cleared == 1: score += 10"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1851,"totalTokenCount": 3897,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "0 * level\n        elif num_cleared == 2: score += 300 * level\n        elif num_cleared == 3: score += 500 * level\n        elif num_cleared"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1899,"totalTokenCount": 3945,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " == 4: score += 800 * level # TETRIS!\n        \n        lines_cleared += num_cleared\n        \n        # Increase level every 10 lines\n        new_level = "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1946,"totalTokenCount": 3992,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "1 + (lines_cleared // 10)\n        if new_level \u003e level:\n            level = new_level\n            adjust_fall_delay()\n\n        # Remove full lines and shift others down\n        for"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 1995,"totalTokenCount": 4041,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " y in lines_to_clear:\n            board.pop(y)\n        while len(board) \u003c BOARD_HEIGHT:\n            board.insert(0, [0] * BOARD_WIDTH) # Add empty rows at the top"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2046,"totalTokenCount": 4092,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n\ndef adjust_fall_delay():\n    \"\"\"Adjusts the fall delay based on the current level.\"\"\"\n    global fall_delay_ms\n    # Formula: 1000ms / (1 + (level-1)*"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2095,"totalTokenCount": 4141,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "0.2) or similar,\n    # or just a lookup table. Let's make it simpler for now.\n    fall_delay_ms = max(100, 1000 - (level -"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2143,"totalTokenCount": 4189,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " 1) * 75) # Minimum 100ms\n\n# --- Drawing Functions ---\n\ndef draw_board(stdscr):\n    \"\"\"Draws the main game board.\"\"\"\n    # Draw border\n    stdscr."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2192,"totalTokenCount": 4238,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "attron(curses.color_pair(8)) # Border color\n    for y in range(TOTAL_HEIGHT):\n        stdscr.addstr(y, 0, \"#\") # Left border\n        stdscr.add"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2241,"totalTokenCount": 4287,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "str(y, BOARD_WIDTH + 1, \"#\") # Right border\n    stdscr.addstr(0, 0, \"#\" * (BOARD_WIDTH + 2)) # Top border\n    stdscr.add"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2290,"totalTokenCount": 4336,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "str(BOARD_HEIGHT + 1, 0, \"#\" * (BOARD_WIDTH + 2)) # Bottom border\n    stdscr.attroff(curses.color_pair(8))\n\n    # Draw existing blocks on the"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2340,"totalTokenCount": 4386,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " board\n    for y in range(BOARD_HEIGHT):\n        for x in range(BOARD_WIDTH):\n            if board[y][x] != 0:\n                stdscr.attron(curses.color_pair("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2390,"totalTokenCount": 4436,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "board[y][x]))\n                stdscr.addstr(y + 1, x + 1, \"[]\") # +1 for border offset\n                stdscr.attroff(curses.color_pair(board["}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2439,"totalTokenCount": 4485,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "y][x]))\n            else:\n                stdscr.addstr(y + 1, x + 1, \"  \")\n\ndef draw_piece(stdscr, piece, offset_x=0, offset_y"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2488,"totalTokenCount": 4534,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "=0):\n    \"\"\"Draws a given piece on the board.\"\"\"\n    blocks = get_piece_blocks(piece)\n    stdscr.attron(curses.color_pair(piece['id']))\n    for x,"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2538,"totalTokenCount": 4584,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " y in blocks:\n        # Only draw if block is within bounds\n        if 0 \u003c= x \u003c BOARD_WIDTH and 0 \u003c= y \u003c BOARD_HEIGHT:\n            stdscr.addstr(y + 1 + offset"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2587,"totalTokenCount": 4633,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_y, x + 1 + offset_x, \"[]\")\n    stdscr.attroff(curses.color_pair(piece['id']))\n\ndef draw_info_panel(stdscr):\n    \"\"\"Draw"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2635,"totalTokenCount": 4681,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "s the score, level, and next piece preview.\"\"\"\n    start_x = BOARD_WIDTH + 3 # X-position for the info panel\n\n    # Draw border for info panel\n    stdscr.attron(curses."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2684,"totalTokenCount": 4730,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "color_pair(8))\n    for y in range(TOTAL_HEIGHT):\n        stdscr.addstr(y, start_x - 1, \"#\") # Left border for info panel\n        stdscr.addstr("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2734,"totalTokenCount": 4780,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "y, start_x + INFO_PANEL_WIDTH, \"#\") # Right border\n    stdscr.addstr(0, start_x - 1, \"#\" * (INFO_PANEL_WIDTH + 2"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2782,"totalTokenCount": 4828,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "))\n    stdscr.addstr(TOTAL_HEIGHT - 1, start_x - 1, \"#\" * (INFO_PANEL_WIDTH + 2))\n    stdscr.attroff(curses.color_"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2831,"totalTokenCount": 4877,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "pair(8))\n\n    # Draw info text\n    stdscr.attron(curses.color_pair(9)) # Text color\n    stdscr.addstr(2, start_x + 1, f\"SCORE"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2880,"totalTokenCount": 4926,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ": {score:06}\")\n    stdscr.addstr(4, start_x + 1, f\"LEVEL: {level:02}\")\n    stdscr.addstr(6, start_x + "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2928,"totalTokenCount": 4974,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "1, f\"LINES: {lines_cleared:03}\")\n    \n    stdscr.addstr(8, start_x + 1, \"NEXT:\")\n    stdscr.attroff(curses.color"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 2976,"totalTokenCount": 5022,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_pair(9))\n\n    # Draw next piece\n    if next_piece:\n        # Create a temporary piece for drawing, positioned correctly\n        next_piece_display = next_piece.copy()\n        next_piece_display"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3027,"totalTokenCount": 5073,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "['x'] = start_x + 2 - (BOARD_WIDTH // 2 - 2) # Adjust for panel offset\n        next_piece_display['y'] = 10 # Place it below \"NEXT:\" label"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3076,"totalTokenCount": 5122,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n        draw_piece(stdscr, next_piece_display, offset_x=0, offset_y=0) # Relative to (0,0) of screen\n\ndef display_game_over(stdscr):\n    "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3122,"totalTokenCount": 5168,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\"\"\"Displays the Game Over message.\"\"\"\n    msg = \"GAME OVER!\"\n    score_msg = f\"Score: {score}\"\n    level_msg = f\"Level: {level}\"\n    lines_msg = f"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3170,"totalTokenCount": 5216,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\"Lines: {lines_cleared}\"\n    \n    # Calculate center for messages\n    center_y = BOARD_HEIGHT // 2 + 1\n    center_x = BOARD_WIDTH // 2 + 1"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3218,"totalTokenCount": 5264,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n    \n    stdscr.attron(curses.color_pair(9) | curses.A_BOLD)\n    stdscr.addstr(center_y - 2, center_x - len(msg)"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3262,"totalTokenCount": 5308,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " // 2, msg)\n    stdscr.addstr(center_y, center_x - len(score_msg) // 2, score_msg)\n    stdscr.addstr(center_y + 1"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3312,"totalTokenCount": 5358,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ", center_x - len(level_msg) // 2, level_msg)\n    stdscr.addstr(center_y + 2, center_x - len(lines_msg) // 2,"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3360,"totalTokenCount": 5406,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " lines_msg)\n    stdscr.attroff(curses.color_pair(9) | curses.A_BOLD)\n\ndef main(stdscr):\n    global board, current_piece, next_piece, score,"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3409,"totalTokenCount": 5455,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " level, lines_cleared, game_over, fall_delay_ms\n\n    # --- Curses Setup ---\n    curses.curs_set(0) # Hide cursor\n    stdscr.nodelay(True) # Non"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3459,"totalTokenCount": 5505,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "-blocking input\n    stdscr.timeout(50) # Refresh screen every 50ms (for input and drawing)\n    \n    # Check if terminal supports colors\n    if curses.has_colors():\n        "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3505,"totalTokenCount": 5551,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "curses.start_color()\n        # Initialize color pairs\n        for pid, color_val in COLOR_MAP.items():\n            curses.init_pair(pid, color_val, curses.COLOR_BLACK)\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3552,"totalTokenCount": 5598,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "        curses.init_pair(8, curses.COLOR_WHITE, curses.COLOR_BLACK) # Border\n        curses.init_pair(9, curses.COLOR_CYAN, curses.COLOR_BLACK) # Text\n    "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3599,"totalTokenCount": 5645,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "else:\n        # Fallback if colors aren't supported\n        for pid in COLOR_MAP.keys():\n            curses.init_pair(pid, curses.COLOR_WHITE, curses.COLOR_BLACK)\n        curses.init"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3650,"totalTokenCount": 5696,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_pair(8, curses.COLOR_WHITE, curses.COLOR_BLACK)\n        curses.init_pair(9, curses.COLOR_WHITE, curses.COLOR_BLACK)\n\n\n    # --- Game Initialization ---\n    "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3696,"totalTokenCount": 5742,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "board = [[0 for _ in range(BOARD_WIDTH)] for _ in range(BOARD_HEIGHT)]\n    current_piece = create_piece()\n    next_piece = create_piece()\n    \n    score = 0\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3746,"totalTokenCount": 5792,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "    level = 1\n    lines_cleared = 0\n    game_over = False\n    adjust_fall_delay() # Set initial fall delay\n\n    last_fall_time = time.time()\n    \n    #"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3796,"totalTokenCount": 5842,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " --- Game Loop ---\n    while not game_over:\n        stdscr.erase() # Clear screen each frame\n\n        # --- Input Handling ---\n        key = stdscr.getch()\n        \n        if key == ord"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3845,"totalTokenCount": 5891,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "('q'):\n            game_over = True\n        \n        elif key == curses.KEY_LEFT:\n            if not check_collision(current_piece, dx=-1):\n                current_piece['x'] -= 1\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3895,"totalTokenCount": 5941,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "        \n        elif key == curses.KEY_RIGHT:\n            if not check_collision(current_piece, dx=1):\n                current_piece['x'] += 1\n        \n        elif key == curses.KEY_"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3942,"totalTokenCount": 5988,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "DOWN: # Soft drop\n            if not check_collision(current_piece, dy=1):\n                current_piece['y'] += 1\n                score += 1 # Small score bonus for soft drop\n            else:\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 3991,"totalTokenCount": 6037,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "                lock_piece(current_piece)\n                clear_lines()\n                current_piece = next_piece\n                next_piece = create_piece()\n                if check_collision(current_piece): # Check for"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4038,"totalTokenCount": 6084,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " game over on new piece spawn\n                    game_over = True\n            last_fall_time = time.time() # Reset fall timer on manual drop\n        \n        elif key == curses.KEY_UP: # Rotate\n            next"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4088,"totalTokenCount": 6134,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_rot = (current_piece['rotation'] + 1) % len(TETROMINOES[current_piece['name']])\n            if not check_collision(current_piece, new_rotation=next_rot):\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4137,"totalTokenCount": 6183,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "                current_piece['rotation'] = next_rot\n            # (Advanced: Add wall kick logic here for better rotation)\n        \n        elif key == ord(' '): # Hard drop\n            while not check_collision("}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4184,"totalTokenCount": 6230,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "current_piece, dy=1):\n                current_piece['y'] += 1\n                score += 2 # Larger score bonus for hard drop\n            lock_piece(current_piece)\n            clear_lines()\n            current"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4235,"totalTokenCount": 6281,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_piece = next_piece\n            next_piece = create_piece()\n            if check_collision(current_piece): # Check for game over on new piece spawn\n                game_over = True\n            last_fall"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4283,"totalTokenCount": 6329,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_time = time.time() # Reset fall timer\n\n        # --- Automatic Piece Fall ---\n        if time.time() - last_fall_time \u003e= fall_delay_ms / 1000.0:\n            "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4330,"totalTokenCount": 6376,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "if not check_collision(current_piece, dy=1):\n                current_piece['y'] += 1\n            else:\n                lock_piece(current_piece)\n                clear_lines()\n                current"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4378,"totalTokenCount": 6424,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_piece = next_piece\n                next_piece = create_piece()\n                if check_collision(current_piece): # Check for game over on new piece spawn\n                    game_over = True\n            last_fall"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4426,"totalTokenCount": 6472,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_time = time.time()\n\n        # --- Drawing ---\n        draw_board(stdscr)\n        draw_piece(stdscr, current_piece)\n        draw_info_panel(stdscr)\n        "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4472,"totalTokenCount": 6518,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n        stdscr.refresh()\n\n    # --- Game Over Screen ---\n    stdscr.erase()\n    draw_board(stdscr) # Draw the final state of the board\n    display_game_over(stdscr)"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4520,"totalTokenCount": 6566,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "\n    stdscr.refresh()\n    time.sleep(3) # Let the player see the game over screen\n\n# --- Run the Game ---\nif __name__ == \"__main__\":\n    try:\n        # curses"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4566,"totalTokenCount": 6612,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ".wrapper handles setup/teardown gracefully\n        curses.wrapper(main)\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n        print(\"This game requires a terminal that supports curses (like"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4617,"totalTokenCount": 6663,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " on Linux/macOS).\")\n        print(\"On Windows, you might need to install 'windows-curses' (`pip install windows-curses`).\")\n```\n\n---\n\n### How to Play:\n\n*   **Left Arrow"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4665,"totalTokenCount": 6711,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " (`\u003c--`)**: Move piece left\n*   **Right Arrow (`--\u003e`)**: Move piece right\n*   **Up Arrow (`^`)**: Rotate piece\n*   **Down Arrow (`v`)**: Soft drop (piece falls"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4712,"totalTokenCount": 6758,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " faster, small score bonus)\n*   **Spacebar (` `)**: Hard drop (piece instantly drops, larger score bonus)\n*   **`q`**: Quit the game\n\n### Explanation of Key Parts:\n\n1."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4760,"totalTokenCount": 6806,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "  **`curses` Setup (`main` function `try...finally` block):**\n    *   `curses.wrapper(main)`: This is the safest way to run a curses application. It initializes `curses`, calls your"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4807,"totalTokenCount": 6853,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " `main` function, and then restores the terminal to its normal state even if errors occur.\n    *   `curses.curs_set(0)`: Hides the blinking cursor.\n    *   `stdscr.nodel"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4856,"totalTokenCount": 6902,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "ay(True)`: Makes `stdscr.getch()` non-blocking. It returns `curses.ERR` if no key is pressed, allowing the game to continue updating without waiting for input.\n    *   `stdscr."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4905,"totalTokenCount": 6951,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "timeout(50)`: Sets a 50ms delay for `stdscr.getch()`. This effectively becomes the game's refresh rate.\n    *   `curses.has_colors()`, `curses.start_color()"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 4956,"totalTokenCount": 7002,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "`, `curses.init_pair()`: Initializes and defines color pairs. `curses` uses foreground/background pairs rather than direct color values.\n\n2.  **Game Configuration (`BOARD_WIDTH`, `BOARD_HEIGHT`, `T"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5004,"totalTokenCount": 7050,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "ETROMINOES`, `COLOR_MAP`):**\n    *   Defines the board dimensions and the shapes of the Tetrominoes.\n    *   `TETROMINOES`: A dictionary where each key is a piece"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5053,"totalTokenCount": 7099,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " name ('I', 'J', etc.) and its value is a list of its possible rotations. Each rotation is a list of `(dx, dy)` offsets from the piece's origin.\n    *   `PIECE_IDS"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5102,"totalTokenCount": 7148,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "`: Maps piece names to unique integers (1-7) for storing on the `board`.\n    *   `COLOR_MAP`: Assigns a `curses` color constant to each piece ID.\n\n3.  **Game State Variables:**\n"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5152,"totalTokenCount": 7198,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "    *   `board`: A 2D list representing the game board. `0` means empty, a non-zero integer represents a block of a specific piece type.\n    *   `current_piece`, `next_piece`: D"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5202,"totalTokenCount": 7248,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "ictionaries holding the current falling piece's type, rotation, and `(x, y)` position, and the next piece to fall.\n    *   `score`, `level`, `lines_cleared`, `game_over`,"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5251,"totalTokenCount": 7297,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " `fall_delay_ms`: Self-explanatory game stats.\n\n4.  **`create_piece()`:**\n    *   Generates a new piece, randomly selecting its type and setting its initial position at the top-center"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5299,"totalTokenCount": 7345,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " of the board.\n\n5.  **`get_piece_blocks()`:**\n    *   Translates a piece's internal `(x, y)` and rotation data into a list of absolute `(x, y)` coordinates for"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5349,"totalTokenCount": 7395,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " each of its four blocks on the main game board.\n\n6.  **`check_collision()`:**\n    *   This is crucial. It simulates moving or rotating a piece and checks if any of its blocks would go out of"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5397,"totalTokenCount": 7443,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " bounds or overlap with existing blocks on the `board`.\n\n7.  **`lock_piece()`:**\n    *   When a piece can no longer move down, it's \"locked\" onto the board. Its blocks are permanently"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5446,"totalTokenCount": 7492,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": " transferred from the `current_piece` to the `board` data structure.\n    *   Includes a check for `game_over` if a piece locks with blocks above `y=0`.\n\n8.  **`clear_"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5496,"totalTokenCount": 7542,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "lines()`:**\n    *   Iterates through the board from bottom to top. If a row is completely filled, it's removed, and empty rows are added to the top, effectively shifting everything above down.\n    *   Updates `score"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5547,"totalTokenCount": 7593,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "`, `lines_cleared`, and `level`.\n\n9.  **`draw_*` Functions:**\n    *   `draw_board()`: Renders the current state of the `board` and its outer border.\n    "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5594,"totalTokenCount": 7640,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "*   `draw_piece()`: Renders the `current_piece` (and `next_piece`).\n    *   `draw_info_panel()`: Displays score, level, lines, and the preview of the `next"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5643,"totalTokenCount": 7689,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_piece`.\n    *   They use `stdscr.addstr(y, x, text)` to print characters and `stdscr.attron(color_pair_id)` / `stdscr.attroff(color"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5691,"totalTokenCount": 7737,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_pair_id)` to apply colors.\n\n10. **Game Loop (`while not game_over`):**\n    *   **Input:** Reads key presses (non-blocking).\n    *   **Logic:**\n        "}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5738,"totalTokenCount": 7784,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "*   Processes player input to move or rotate the `current_piece`. It always `check_collision()` *before* modifying the piece's position/rotation.\n        *   Handles automatic falling based on `fall_delay_ms"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5787,"totalTokenCount": 7833,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "` and `last_fall_time`.\n        *   If a piece lands (can't move down further), it calls `lock_piece()`, `clear_lines()`, creates a new `current_piece` (from `next"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5838,"totalTokenCount": 7884,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "_piece`), and generates a new `next_piece`. It also checks for `game_over` if the new piece spawns directly into a collision.\n    *   **Drawing:** Calls all drawing functions to update the screen.\n    *"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5889,"totalTokenCount": 7935,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": "   `stdscr.refresh()`: Updates the physical terminal screen with what's been drawn to the virtual screen.\n\nThis creates a functional, albeit basic, console Tetris game! You could extend it with more features like ghost pieces"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5936,"totalTokenCount": 7982,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

data: {"candidates": [{"content": {"parts": [{"text": ", hold functionality, sound, high scores, etc."}],"role": "model"},"finishReason": "STOP","index": 0}],"usageMetadata": {"promptTokenCount": 4,"candidatesTokenCount": 5947,"totalTokenCount": 7993,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 4}],"thoughtsTokenCount": 2042},"modelVersion": "gemini-2.5-flash","responseId": "IZI2acSKMoWl0-kPmYj2yQc"}

